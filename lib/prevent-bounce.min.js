'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var PreventBounce=function(){function a(){_classCallCheck(this,a),this.$el=null,this.startDragPosY=0,this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this)}return _createClass(a,[{key:'attach',value:function c(a){this.$el=a||document;var b={passive:!1};this.$el.addEventListener('touchstart',this.handleTouchStart,b),this.$el.addEventListener('touchmove',this.handleTouchMove,b),this.$el.addEventListener('touchend',this.handleTouchEnd,b),this.$el.addEventListener('touchcancel',this.handleTouchEnd,b)}},{key:'remove',value:function a(){if(this.$el){var b={passive:!1};this.$el.removeEventListener('touchstart',this.handleTouchStart,b),this.$el.removeEventListener('touchmove',this.handleTouchMove,b),this.$el.removeEventListener('touchend',this.handleTouchEnd,b),this.$el.removeEventListener('touchcancel',this.handleTouchEnd,b)}}},{key:'handleTouchStart',value:function b(a){this.startDragPosX=this.getTouchPositionX(a),this.startDragPosY=this.getTouchPositionY(a)}},{key:'handleTouchMove',value:function e(a){var b=this.getTouchPositionX(a)-this.startDragPosX,c=this.getTouchPositionY(a)-this.startDragPosY,d=this.$el.scrollTop||window.scrollY;1>d&&0<c&&45<Math.abs(this.getAngle(b,c))&&a.preventDefault()}},{key:'handleTouchEnd',value:function a(){this.startDragPosX=0,this.startDragPosY=0}},{key:'getTouchPositionX',value:function b(a){return a.changedTouches?a.changedTouches[0].pageX:a.pageX}},{key:'getTouchPositionY',value:function b(a){return a.changedTouches?a.changedTouches[0].pageY:a.pageY}},{key:'getAngle',value:function c(a,b){return 180*Math.atan(b/a)/Math.PI}}]),a}();exports.default=PreventBounce;
